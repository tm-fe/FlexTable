<template>
    <div>
        <h3>加载中</h3>
        <p><a href="https://github.com/tm-fe/FlexTable/blob/master/examples/features/loading.vue">source code</a></p>
        
        <flex-table
            :loading="loading" 
            :columns="columns" 
            :data="list"
        ></flex-table>
    </div>
</template>
<script>
// import flexTable from '../../index.js';

const aTestList = [];
for(let i=0;i<10;i++){
    const oTestData = {
        name: 'John Brown',
        age: 18,
        address: 'New York No. 1 Lake Park',
        date: '2016-10-03',
    };
    aTestList.push(oTestData);
}

export default {
    // components:{
    //     flexTable
    // },
    data(){
        return {
            columns: [
                {
                    title: 'Name',
                    key: 'name',
                    width: 100,
                },
                {
                    title: 'Age',
                    key: 'age',
                },
                {
                    title: 'Address',
                    key: 'address',
                    width: 300,
                },
                {
                    title: 'Date',
                    key: 'date',
                },
            ],
            loading: false,
            list: [],
        }
    },
    mounted() {
        this.loading = true;
        this.getList()
            .then(list => {
                this.list = list;
                this.loading = false;
            });
    },
    methods: {
        getList() {
            return new Promise(resolve => {
                setTimeout(() => {
                    resolve(aTestList);
                }, 2000);
            });
        }
    }
}
</script>